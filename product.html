<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>火山动漫--作品</title>
    
    <!-- Google Fonts
    <link href='http://fonts.googleapis.com/css?family=Titillium+Web:400,200,300,700,600' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Roboto+Condensed:400,700,300' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Raleway:400,100' rel='stylesheet' type='text/css'>
    -->
	<link rel="stylesheet" href="css/slider.css">
    <!-- Bootstrap -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/owl.carousel.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive.css">
	<link rel="stylesheet" href="css/reveal.css">
	
	<!-- Latest jQuery form server -->
    <script src="js/jquery.min.js"></script>
    <!-- Bootstrap JS form CDN -->
    <script src="js/bootstrap.min.js"></script>
    <!-- jQuery sticky menu -->
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/jquery.sticky.js"></script>
    <!-- jQuery easing -->
    <script src="js/jquery.easing.1.3.min.js"></script>
    <!-- Main Script -->
    <script src="js/main.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
   
    <div class="mainmenu-area">
        <div class="container">
            <div class="row">
                <div class="navbar-collapse collapse">
					<div class="logo"></div>
                    <ul class="nav navbar-nav">
                        <li><a href="index.html">首页</a></li>
                        <li><a href="ours.html">我们</a></li>
                        <li class="active">
							<a href="product.html">作品</a>
							<ul>
								<li><a href="product.html#video_start">视频</a></li>
								<li><a href="product.html#img_start">静帧</a></li>
							</ul>
						</li>
                        <li><a href="joinus.html">招聘</a></li>
                        <li><a href="contact.html">联系</a></li>
                    </ul>
                </div>  
            </div>
        </div>
    </div>

    <div class="product-big-title-area">
		<div class="container">
            <div class="row">
			</div>
		</div>
    </div>
    
    <div class="single-product-area source_han_sans">
		<div class="container" style="width:100%;margin-left:0px;margint-right:0px;">
			<div class="row">
				<h2 class="arial_narrow">WORK SHOW</h2>
				<center><hr style="border:0.06em solid #ffb900;width:80px;margin-top:-10px;"/></center>
				<h4>作品展示</h4>
				<center><hr style="border:0.01em solid #e1e1e1;width:100px;margin-top:-10px;"/></center>
			</div>
			<div class="row product-list" id="product-list">
				<ul></ul>
			</div>
		</div>
		
		<div class="container">	
			<div class="row" style="margin-top:50px;">
				<h2 class="arial_narrow">SERVICE TEAM</h2>
				<center><hr style="border:0.06em solid #ffb900;width:80px;margin-top:-10px;"/></center>
				<h4>服务团队</h4>
				<center><hr style="border:0.01em solid #e1e1e1;width:100px;margin-top:-10px;"/></center>
			</div>
			<div class="row">
				<p>CG动画核心团队均来自腾讯，能为你提供最优质的动画作品</p>
				<p>深圳市火山动漫设计有限公司是一家专注于美术设计、3d建模、绑定、动画、特效、解算、灯光渲染、合成，动漫影视领域全方位发展的设计制作公司。业务范畴：2/3d游戏宣传片、动画剧集、企业宣传片、平面设计以及原创动漫电影。</p>
			</div>
			
			<div class="row introduce" style="margin-top:50px;">
				<ul>
					<li id="introduce_cg"><span>CG</span></li>
					<li id="introduce_series"><span>Series</span></li>
					<li id="introduce_movie"><span>Movie</span></li>
				</ul>
			</div>
        </div>
    </div>

	<div id="playvideo" class="reveal-modal">
		<video src="" controls="controls">
			您的浏览器不支持Video标签
		</video>
		<a class="close-reveal-modal">&#215;</a>
	</div>
	<div id="playimage" class="reveal-modal">
		<img width="100%" height="100%"/>
		<a class="close-reveal-modal">&#215;</a>
	</div>

    <div class="footer-top-area">
        <div class="container">
            <div class="row">
                <h4>“热爱如火，稳健如山”</h4>
				<h4>让我们一起创建出更优秀有动画作品</h4>
				<button><a href="contact.html">立即联系</a></button>
            </div>
        </div>
    </div>

	<script src="js/products.js" charset="gbk" type="text/javascript"></script>
	<script>
		$(function(){
			var images_count = video_jason.length;
			//创建节点
			//图片列表节点
			var total_count = Number(images_count) - Number(images_count) % 5 + 5;
			for(var j=0;j<images_count;j++){
				var video_cover = video_jason[j].video_cover;
				var video_url = video_jason[j].video_url;
				var video_name = video_jason[j].video_name;
				if(j >= images_count){
					$('.product-list ul').append('<li></li>');
				}else{
					if('' != video_url && undefined != video_url){
						var ul_append = '';
						if(video_url.toLowerCase().lastIndexOf(".jpg") > -1
							|| video_url.toLowerCase().lastIndexOf(".jpeg") > -1
							|| video_url.toLowerCase().lastIndexOf(".png") > -1
							|| video_url.toLowerCase().lastIndexOf(".gif") > -1){
							ul_append += '<li id="img_start" class="single-product"><img src="' + video_cover + '"/>'
								+'<div class="product-hover" id="product-hover'+j+'">'
								+'<span>'+video_name+'</span>'
								+'<input type="image" id="imgbutton'+j+'" src="img/bofang.png" data-reveal-id="playimage"/>';
						}else{
							ul_append += '<li id="video_start" class="single-product"><img src="' + video_cover + '"/>'
								+'<div class="product-hover" id="product-hover'+j+'">'
								+'<span>'+video_name+'</span>'
								+'<input type="image" id="imgbutton'+j+'" src="img/bofang.png" data-reveal-id="playvideo"/>';
						}
						ul_append += '</div></li>';
						$('.product-list ul').append(ul_append);
					}else{
						$('.product-list ul').append('<li><img src="' + video_cover + '"/></li>');
					}
				}
			}
			$('.product-list ul li img').css('width','100%');
			$('.product-list ul li img').css('height','100%');
								
			$('.product-hover').hover(function(){
				var index = this.id.replace('product-hover','');
				if('' != video_jason[index].video_name){
					$('#' + this.id + ' input[type="image"]').show();
					$('#' + this.id + ' span').show();
				}
			});
			$('.product-hover input[type="image"]').hover(function(){
				var index = this.id.replace('imgbutton','');
				if('' != video_jason[index].video_name){
					$('#' + this.id).show();
				}
			});
			$('.product-hover').mouseleave(function(){
				var index = this.id.replace('product-hover','');
				if('' != video_jason[index].video_name){
					$('#' + this.id + ' input[type="image"]').hide();
					$('#' + this.id + ' span').hide();
				}
			});
			
			$('.product-hover input[type="image"]').click(function(e){
				var index = this.id.replace('imgbutton','');
				if('' != video_jason[index].video_name){
					var video_url_index = video_jason[index].video_url;
					if(video_url_index.toLowerCase().lastIndexOf(".jpg") > -1
						|| video_url_index.toLowerCase().lastIndexOf(".jpeg") > -1
						|| video_url_index.toLowerCase().lastIndexOf(".png") > -1
						|| video_url_index.toLowerCase().lastIndexOf(".gif") > -1){
						$("#playimage img").attr("src", video_url_index);
						getImageWidthAndHeight(video_url_index, function(w, h){
							var width = $(window).width();
							if(width < w){
								var heigth = h * (width / w);
								$("#playimage").width(width + "px");
								$("#playimage").height(heigth + "px");
								$("#playimage").css("left", "0px");
							}else{
								$("#playimage").width(w + "px");
								$("#playimage").height(h + "px");
								$("#playimage").css("left", (width - w)/2 + "px");
							}
							var top = $(window).height() - $("#playimage").height();
							if(top > 0){
								$("#playimage").css("top", top/2 + "px");
							}
						});
					}else{
						$("#playvideo video").attr("src", video_url_index);
						$("#playvideo video").attr("autoplay","true");
					}
					e.preventDefault();
					var modalLocation = $(this).attr('data-reveal-id');
					$('#'+modalLocation).reveal($(this).data());
				}
			});
			
			var images_height = $("#product-list ul li").width();
			//$('.product-list ul li').width(images_height);
			$('.product-list ul li').height(images_height);
			$('.introduce ul li').height($('.introduce ul li').width()*0.618);
			$('.introduce ul li').css('line-height', $('.introduce ul li').height() + "px");
			
			var scale;
			getImageWidthAndHeight('img/product_top.jpg', function(w, h){
				var width = $(".product-big-title-area").width();
				scale = h / w;
				var heigth = width * scale;
				$(".product-big-title-area").height(heigth);
			});
			//$('.product-big-title-area').height($('.product-big-title-area').width() * 0.2640625);
			
			$(window).resize(function(){
				$("#product-list ul li").width($(window).width() * 0.1999);
				images_height = $("#product-list ul li").width();
				//$('.product-list ul li').width(images_height);
				$('.product-list ul li').height(images_height);
				$('.introduce ul li').height($('.introduce ul li').width()*0.618);
				$(".product-big-title-area").height($(window).width() * scale);
			});
			
			$('.introduce ul li').hover(function(){
				if(this.id == 'introduce_cg'){
					$('#introduce_cg span').html(introduce_cg);
				}
				if(this.id == 'introduce_series'){
					$('#introduce_series span').html(introduce_series);
				}
				if(this.id == 'introduce_movie'){
					$('#introduce_movie span').html(introduce_movie);
				}
				$('#' + this.id).css('font-size', '12px');
			});
			
			$('.introduce ul li').mouseleave(function(){
				if(this.id == 'introduce_cg'){
					$('#introduce_cg span').html('CG');
				}
				if(this.id == 'introduce_series'){
					$('#introduce_series span').html('Series');
				}
				if(this.id == 'introduce_movie'){
					$('#introduce_movie span').html('Movie');
				}
				$('#' + this.id).css('font-size', '16px');
				$('#' + this.id).css('line-height', $('.introduce ul li').height() + 'px');
			});
		});
	</script>
	<script type="text/javascript" src="js/jquery.reveal.js"></script>
  </body>
</html>